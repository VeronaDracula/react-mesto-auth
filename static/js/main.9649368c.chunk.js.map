{"version":3,"sources":["contexts/CurrentUserContext.js","images/login-yes.png","components/ProtectedRoute.js","images/logo.svg","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/Login.js","components/Register.js","components/PopupWithForm.js","components/AddPlacePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/PopupDeleteCard.js","components/ImagePopup.js","components/InfoTooltip.js","utils/Api.js","utils/AuthApi.js","components/App.js","images/login-no.png","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","ProtectedRoute","Component","component","props","loggedIn","to","Header","className","src","headerLogo","alt","path","email","onClick","onSignOut","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","onCardDelete","onCardDataRead","onButtonPopupTextRead","name","link","onCardClick","onCardLike","Main","avatar","onEditAvatar","onButtonTextRead","onEditProfile","about","onAddPlace","cards","map","length","Footer","Login","useState","setEmail","password","setPassword","onSubmit","e","preventDefault","onLogin","htmlFor","id","placeholder","required","minLength","maxLength","value","onChange","target","Register","onRegister","PopupWithForm","isOpen","onClose","title","children","disabled","buttonDisable","buttonText","AddPlacePopup","nameCard","setNameCard","linkCardImage","setLinkCardImage","EditProfilePopup","setName","description","setDescription","useEffect","onUpdateUser","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","defaultValue","PopupDeleteCard","onDeleteCard","onCardDeleteData","ImagePopup","InfoTooltip","popupImg","popupText","api","config","authorization","this","url","headers","res","ok","json","Promise","reject","status","fetch","then","response","_getResponseData","data","method","body","JSON","stringify","apiAuth","token","App","emptyCard","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDeleteCardPopupOpen","setIsDeleteCardPopupOpen","selectedCard","setSelectedCard","setCards","setCurrentUser","setLoggedIn","userEmail","setUserEmail","imgLoginYes","infoTooltipImg","setInfoTooltipImg","infoTooltipText","setInfoTooltipText","popupInfoTooltipOpen","setPopupInfoTooltip","handleInfoTooltipOpen","closeAllPopups","getUserInfoApi","userData","catch","err","console","log","closeByEscape","key","document","addEventListener","removeEventListener","getCards","cardsData","deleteCard","setDeleteCard","setButtonText","setButtonDisable","buttonState","button","isLoading2","history","useHistory","push","jwt","localStorage","getItem","getContent","tokenCheck","Provider","removeItem","register","setItem","deleteLikedApi","newCard","state","c","likeApi","cardDeleteData","newUserData","createNewUserInfoApi","finally","newUserAvatar","createNewUserAvatarApi","createCardApi","cardDataDelete","deleteCardApi","filter","cardData","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9649368c.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAANlBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC3dmhyAAAAEXRSTlMAIN/vYBCAQL9wMJ/PkK+gUEytRtEAAAQQSURBVGje1ZvZduowDEUteZ4C/P/PXoy5VYtJ4zGLnleSbHQsy/EQ1iypRfQGkd+SMJhNWS3ZWmm74e2tcLOarZG0ht9+Fd8ELKB+PT54JTRAdhecFmqjv2SmsrV/Phj93nOduOCT7fUsrHkGYw+CAfG8MogZWHxSqxIXRMjWiCnR8tjgnrtk9IjhkLFKNt4WHy556OVaTthGtMr/eCBcLzvNehiO0BluGGgowBS0bS0YMf1hxYb08Du2/duQfHJsUICNdrt0Q5QTKm1sIl9T81o2RTY19LXuWpGuHbG5dE9UcUt3xhta9HLXk6/EnUu+HlzDiTuXzN3BFd3coecu4JKTYb8wpO7u2BK536qnnVE3mh5OdsSJqNJODrsNLNkyyfvzzd4gBmyhHJn9arRiS6Xemu3vRrPFCm/M1muNJoguM8uz5boUIQsKeKUkfw0ZKbOWSr1kkuir0eMhh3U1qwzZDKf0eMieUnq54jcWNI2G432ZS0qtwE6ToYptKl4Cpw7MhpwGdprkHSf/O23YeSKvt6lOO1XtNZ/ptOP7tZc6EX/mN07jCl4xn8dcQ+zE6iFuD6nDwdFSE8/jEnn/si0H7mYNAF+yB42Mj27Fp3NxP5RnOsuUW2Y6Fw5f+nTKre00LmWXSDeo07h0caSkPoNLae2ZSX6Pyjdxc14F6k0zuIG4B/0Jhyu1/M6VrBZ8v7rq6fu/hEZurh2VYAiignup47IErQTj3os3fOcyNhus9vIVsODOBAsq/ftcxZrAuWAX2nm8h0EugWu6kymGnTEu9eOKgIkwwqVlmEAl82Arp6hNrotLJTMNUTV7QSQUDy7v4tK7T6T7qu2O8gdXdIxlKtF95fSShHaEm4Zim/wOdf7g+/35dm7Oq/qXPTDvuK6dm2tHy7ioBrnUm7DhhZ5yrKgnHUldTGGaujRC7wuLbZ+0WT7ApUlbxzQVsJtL01SaobdIEbe3iWmG3qQrdnJprYdWQ5oEJnRxaa2HvG6U7ILSWg95fZpCdpoWNk+Sy05nXdavGpcLtrSwuViUWvpHhit2iiKNwieFTGVPfMJmyFkhQ/mmZNbvDtA+Yrn7tljwDmKW7g/QPuLnbOMyu3ovBvbmHGb9Vj1+1uGEE45jfNoBFCZDYcfEGo3yAw8ZMbfuWBV85kGyl6Nzf/rQHnGryG7enl/ifvaBUMZg7hFY13Nad/wUauMsa84x5x7jLB8MWoeOg9008/cwskNioM8q/vAbOrCKU7j9J/AjNGMp3LHvQrxruCVmrGZjEhkdBLR8JYSEHUCHyi+KIFMp2mHpyy0LvXA7UOExX8P9DCw9lz60MpsS2kG2FkAL5UNq1uIroWns7ejTsh3qX/2Yjj4ftGozAXOQiMZHodsj/QcvIWFxIhkcawAAAABJRU5ErkJggg==\"","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n    return (\r\n        <Route>\r\n            {() =>\r\n                props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\r\n            }\r\n        </Route>\r\n\r\n    )};\r\n\r\nexport default ProtectedRoute;","export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import React from 'react';\r\nimport headerLogo from '../images/logo.svg';\r\nimport {Link, Route, Switch} from \"react-router-dom\";\r\n\r\nfunction Header(props) {\r\n    return (\r\n        <header className=\"header\">\r\n            <div>\r\n                <img className=\"logo\" src={headerLogo} alt=\"логотип\"/>\r\n            </div>\r\n            <div className=\"header__user-actions\">\r\n                <Switch>\r\n                    <Route path=\"/sign-up\">\r\n                        <Link to=\"/sign-in\" className=\"header__link\">Вход</Link>\r\n                    </Route>\r\n\r\n                    <Route path=\"/sign-in\">\r\n                        <Link to=\"/sign-up\" className=\"header__link\">Регистрация</Link>\r\n                    </Route>\r\n\r\n                    <Route path=\"/\">\r\n                        <p className=\"header__email\">{props.email}</p>\r\n                        <Link to=\"/sign-in\" onClick={props.onSignOut} className=\"header__link header__link_type_auth\">Выйти</Link>\r\n                    </Route>\r\n                </Switch>\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\n\r\n\r\nfunction Card(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    const isOwn = props.card.owner._id === currentUser._id;\r\n    const cardDeleteButtonClassName = (\r\n        `card__delete page__button ${isOwn ? 'card__delete_visible' : 'card__delete_invisible'}`\r\n    );\r\n\r\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n    const cardLikeButtonClassName = (\r\n        `${isLiked ? 'card__like card__like_active' : 'card__like'}`\r\n    );\r\n\r\n    function handleClick() {\r\n        props.onCardClick(props.card);\r\n    }\r\n\r\n    function handleLikeClick() {\r\n        props.onCardLike(props.card);\r\n    }\r\n\r\n    function cardDataRead() {\r\n        props.onCardDataRead(props.card);\r\n    }\r\n\r\n    return (\r\n        <li className=\"card\">\r\n            <button className={cardDeleteButtonClassName} type=\"button\" onClick={function(){ props.onCardDelete(); cardDataRead(); props.onButtonPopupTextRead('Да')}}></button>\r\n            <img className=\"card__image\" alt={props.name} src={props.link} onClick={handleClick}/>\r\n            <div className=\"card__image-info\">\r\n                <h2 className=\"card__title\">{props.name}</h2>\r\n                <div className=\"card__like-box\">\r\n                    <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick}></button>\r\n                    <p className=\"card__like-amount\">{props.likes}</p>\r\n                </div>\r\n            </div>\r\n        </li>\r\n    );\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\nimport Card from './Card.js';\r\n\r\nfunction Main(props) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n\r\n    return (\r\n        <main className=\"content\">\r\n            <section className=\"profile\">\r\n                <div className=\"profile__info\">\r\n                    <div className=\"profile__avatar-box\" >\r\n\r\n                        <img className=\"profile__avatar\" alt=\"аватар\"  src={currentUser.avatar}/>\r\n\r\n                            <div className=\"profile__avatar-hover\">\r\n                                <button className=\"profile__edit-avatar-button\" type=\"button\" onClick={function(){props.onEditAvatar(); props.onButtonTextRead('Сохранить')}}></button>\r\n                            </div>\r\n                    </div>\r\n                    <div className=\"profile__text\">\r\n                        <div className=\"profile__name-edit\">\r\n                            <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                            <button className=\"profile__edit-button page__button\" type=\"button\" onClick={function(){props.onEditProfile(); props.onButtonTextRead('Сохранить')}}></button>\r\n                        </div>\r\n                        <p className=\"profile__about\">{currentUser.about}</p>\r\n                    </div>\r\n                </div>\r\n                <button className=\"profile__add-button page__button\" type=\"button\" onClick={function(){props.onAddPlace(); props.onButtonTextRead('Создать')}}></button>\r\n            </section>\r\n\r\n            <section className=\"gallery\">\r\n                <ul className=\"cards\">\r\n                    {props.cards.map((card) => (<Card card={card}\r\n                                                      name={card.name}\r\n                                                      link={card.link}\r\n                                                      likes={card.likes.length}\r\n                                                      key={card._id}\r\n                                                      onCardClick={props.onCardClick}\r\n                                                      onCardLike={props.onCardLike}\r\n                                                      onCardDelete={props.onCardDelete}\r\n                                                      onCardDataRead={props.onCardDataRead}\r\n                                                      onButtonPopupTextRead={props.onButtonTextRead}/>)\r\n                                               )}\r\n                </ul>\r\n            </section>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nfunction Login(props) {\r\n\r\n    const [email, setEmail] = React.useState('');\r\n    const [password, setPassword] = React.useState('');\r\n\r\n    function handleChangeEmail(e) {\r\n        setEmail(e.target.value);\r\n    }\r\n\r\n    function handleChangeLinkPassword(e) {\r\n        setPassword(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onLogin({email, password});\r\n\r\n        setEmail('');\r\n        setPassword('');\r\n    }\r\n\r\n    return (\r\n        <section className=\"start-page\">\r\n            <h2 className=\"start-page__title\">Вход</h2>\r\n            <form className=\"form\" name=\"login\" onSubmit={handleSubmit}>\r\n                <div className=\"form__section\">\r\n                    <label htmlFor=\"email\" className=\"form__label\"></label>\r\n                    <input type=\"email\" className=\"form__item form__item_type_start-page form__item_type_email\"\r\n                           id=\"email\" name=\"email\" placeholder=\"Email\" required minLength=\"2\" maxLength=\"40\"\r\n                           value={email || ''} onChange={handleChangeEmail}/>\r\n                    <span className=\"form__input-error\" id=\"email-error\"></span>\r\n                </div>\r\n                <div className=\"form__section\">\r\n                    <label htmlFor=\"password\" className=\"form__label\"></label>\r\n                    <input type=\"password\" className=\"form__item form__item_type_start-page form__item_type_password\"\r\n                           id=\"password\" name=\"password\" placeholder=\"Пароль\" required minLength=\"5\" maxLength=\"15\"\r\n                           value={password || ''} onChange={handleChangeLinkPassword}/>\r\n                    <span className=\"form__input-error\" id=\"password-error\"></span>\r\n                </div>\r\n                <button type=\"submit\" className=\"form__save form__save_type_start-page\">Войти</button>\r\n            </form>\r\n\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Register(props) {\r\n\r\n    const [email, setEmail] = React.useState('');\r\n    const [password, setPassword] = React.useState('');\r\n\r\n    function handleChangeEmail(e) {\r\n        setEmail(e.target.value);\r\n    }\r\n\r\n    function handleChangeLinkPassword(e) {\r\n        setPassword(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onRegister({email, password});\r\n\r\n        setEmail('');\r\n        setPassword('');\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <section className=\"start-page\">\r\n            <h2 className=\"start-page__title\">Регистрация</h2>\r\n            <form className=\"form\" name=\"register\" onSubmit={handleSubmit}>\r\n                <div className=\"form__section\">\r\n                    <label htmlFor=\"email\" className=\"form__label\"></label>\r\n                    <input type=\"email\" className=\"form__item form__item_type_start-page form__item_type_email\"\r\n                           id=\"email\" name=\"email\" placeholder=\"Email\" required minLength=\"2\" maxLength=\"40\"\r\n                           value={email || ''} onChange={handleChangeEmail}/>\r\n                    <span className=\"form__input-error\" id=\"email-error\"></span>\r\n                </div>\r\n                <div className=\"form__section\">\r\n                    <label htmlFor=\"password\" className=\"form__label\"></label>\r\n                    <input type=\"password\" className=\"form__item form__item_type_start-page form__item_type_password\"\r\n                           id=\"password\" name=\"password\" placeholder=\"Пароль\" required minLength=\"5\" maxLength=\"15\"\r\n                           value={password || ''} onChange={handleChangeLinkPassword}/>\r\n                    <span className=\"form__input-error\" id=\"password-error\"></span>\r\n                </div>\r\n                <button type=\"submit\" className=\"form__save form__save_type_start-page\">Зарегистрироваться</button>\r\n            </form>\r\n            <Link to=\"/sign-in\" className=\"start-page__login-link\">Уже зарегистрированы? Войти</Link>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default Register;","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n\r\n    return (\r\n        <section className={props.isOpen ? `popup popup_type_${props.name} popup_is-opened` : `popup popup_type_${props.name}`}>\r\n            <div className=\"popup__container\">\r\n                <button className=\"popup__close page__button\" onClick={props.onClose}></button>\r\n                <div className=\"popup__content\">\r\n                    <h2 className=\"popup__title\">{props.title}</h2>\r\n                    <form className=\"form\" name={props.name} onSubmit={props.onSubmit}>\r\n                        {props.children}\r\n                        <button type=\"submit\" className=\"form__save\" disabled={props.buttonDisable}>{props.buttonText}</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n    const [nameCard, setNameCard] = React.useState('');\r\n    const [linkCardImage, setLinkCardImage] = React.useState('');\r\n\r\n    function handleChangeNameCard(e) {\r\n        setNameCard(e.target.value);\r\n    }\r\n\r\n    function handleChangeLinkCardImage(e) {\r\n        setLinkCardImage(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onAddPlace({\r\n            name: nameCard,\r\n            link: linkCardImage\r\n        });\r\n\r\n        setNameCard('');\r\n        setLinkCardImage('');\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name=\"card\" title=\"Новое место\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}\r\n                       buttonText={props.buttonText} buttonDisable={props.buttonDisable}>\r\n            <>\r\n                <div className=\"form__section\">\r\n                    <label htmlFor=\"photo-name\" className=\"form__label\"></label>\r\n                    <input type=\"text\" className=\"form__item form__item_type_photo-name\"\r\n                           id=\"photo-name\" name=\"name\" placeholder=\"Название\" required minLength=\"2\"\r\n                           maxLength=\"30\" value={nameCard || ''} onChange={handleChangeNameCard}/>\r\n                    <span className=\"form__input-error\" id=\"photo-name-error\"></span>\r\n                </div>\r\n                <div className=\"form__section\">\r\n                    <label htmlFor=\"link\" className=\"form__label\"></label>\r\n                    <input type=\"url\" className=\"form__item form__item_type_link\" id=\"link\"\r\n                           name=\"link\" placeholder=\"Ссылка на картинку\" required\r\n                           value={linkCardImage || ''} onChange={handleChangeLinkCardImage}/>\r\n                    <span className=\"form__input-error\" id=\"link-error\"></span>\r\n                </div>\r\n            </>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditProfilePopup(props) {\r\n\r\n    const [name, setName] = React.useState('');\r\n    const [description, setDescription] = React.useState('');\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser, props.isOpen]);\r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function handleChangeDescription(e) {\r\n        setDescription(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        // Запрещаем браузеру переходить по адресу формы\r\n        e.preventDefault();\r\n\r\n        // Передаём значения управляемых компонентов во внешний обработчик\r\n        props.onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name=\"profile\" title=\"Редактировать профиль\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}\r\n                       buttonText={props.buttonText} buttonDisable={props.buttonDisable}\r\n                       children={\r\n                           <>\r\n                               <div className=\"form__section\">\r\n                                   <label htmlFor=\"name\" className=\"form__label\"></label>\r\n                                   <input type=\"text\" className=\"form__item form__item_type_name\" id=\"name\"\r\n                                          name=\"name\" placeholder=\"Имя\"\r\n                                          required minLength=\"2\" maxLength=\"40\" value={name || ''} onChange={handleChangeName}/>\r\n                                   <span className=\"form__input-error\" id=\"name-error\"></span>\r\n                               </div>\r\n                               <div className=\"form__section\">\r\n                                   <label htmlFor=\"about\" className=\"form__label\"></label>\r\n                                   <input type=\"text\" className=\"form__item form__item_type_about\" id=\"about\" name=\"about\" placeholder=\"О себе\"\r\n                                          required minLength=\"2\" maxLength=\"200\" value={description || ''} onChange={handleChangeDescription}/>\r\n                                   <span className=\"form__input-error\" id=\"about-error\"></span>\r\n                               </div>\r\n                           </>\r\n                       }/>\r\n    );\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n\r\n    const avatarRef = React.useRef();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateAvatar({\r\n            avatar: avatarRef.current.value,\r\n        });\r\n\r\n        avatarRef.current.value = '';\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name=\"edit-avatar\" title=\"Обновить аватар\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}\r\n                       buttonText={props.buttonText} buttonDisable={props.buttonDisable}\r\n                       children={\r\n                           <div className=\"form__section\">\r\n                               <label htmlFor=\"avatar-link\" className=\"form__label\"></label>\r\n                               <input ref={avatarRef} type=\"url\" className=\"form__item form__item_type_avatar-link\"\r\n                                      id=\"avatar-link\" name=\"avatar\" placeholder=\"Ссылка на картинку\"\r\n                                      required defaultValue=''/>\r\n                               <span className=\"form__input-error\" id=\"avatar-link-error\"></span>\r\n                           </div>\r\n                       }/>\r\n    );\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction PopupDeleteCard(props) {\r\n\r\n    function handleSubmit(e) {\r\n        // Запрещаем браузеру переходить по адресу формы\r\n        e.preventDefault();\r\n\r\n        props.onDeleteCard(props.onCardDeleteData)\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name=\"cardDelete\" title=\"Вы уверены?\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}\r\n                       buttonText={props.buttonText} buttonDisable={props.buttonDisable}\r\n                       />\r\n    );\r\n}\r\n\r\nexport default PopupDeleteCard;","import React from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n    return (\r\n        <section className={props.card.link !== ''  ? 'popup popup_type_photo popup_is-opened' : 'popup popup_type_photo'}>\r\n            <div className=\"popup-photo\">\r\n                <button className=\"popup__close page__button\" onClick={props.onClose}></button>\r\n                <figure className=\"popup-photo__image-container\">\r\n                    <img className=\"popup-photo__image\" alt={props.card.name} src={props.card.link}/>\r\n                    <figcaption className=\"popup-photo__title\">{props.card.name}</figcaption>\r\n                </figure>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default ImagePopup;","import React from 'react';\r\n\r\nfunction InfoTooltip(props) {\r\n    return (\r\n        <section className={props.isOpen ? `popup popup_type_${props.name} popup_is-opened` : `popup popup_type_${props.name}`}>\r\n            <div className=\"popup__container\">\r\n                <button className=\"popup__close page__button\" onClick={props.onClose}></button>\r\n                <div className=\"popup__content popup__content_type_info-login\">\r\n                    <img className=\"popup-info-tooltip__image\" alt=\"\" src={props.popupImg}/>\r\n                    <p className=\"popup-info-tooltip__text\">{props.popupText}</p>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default InfoTooltip;","class Api {\r\n\r\n    constructor(config, authorization) {\r\n        this.url = config.url;\r\n        this.authorization = authorization;\r\n        this.headers = {\r\n            'Content-Type': 'application/json',\r\n            'authorization': this.authorization\r\n        }\r\n    }\r\n\r\n\r\n    _getResponseData(res) {\r\n        if (!res.ok) {\r\n            return Promise.reject(`Ошибка: ${res.status}`);\r\n        }\r\n        return res.json();\r\n    }\r\n\r\n    getCards () {\r\n        return fetch(this.url + 'cards', {\r\n            headers: this.headers\r\n        }).then(response => {\r\n           return this._getResponseData(response)\r\n        })\r\n\r\n    }\r\n\r\n    createCardApi (data) {\r\n        return fetch(this.url + 'cards', {\r\n            headers: this.headers,\r\n            method: 'POST',\r\n            body: JSON.stringify(data)\r\n        }).then(response => {\r\n            return this._getResponseData(response)\r\n        })\r\n\r\n    }\r\n\r\n    deleteCardApi (_id) {\r\n        return fetch(this.url + 'cards' + '/' + _id, {\r\n            headers: this.headers,\r\n            method: 'DELETE',\r\n        }).then(response => {\r\n            return this._getResponseData(response)\r\n        })\r\n    }\r\n\r\n    getUserInfoApi () {\r\n        return fetch(this.url + 'users/me', {\r\n            headers: this.headers\r\n        }).then(response => {\r\n            return this._getResponseData(response)\r\n        })\r\n    }\r\n\r\n    createNewUserInfoApi (data) {\r\n        return fetch(this.url + 'users/me', {\r\n            headers: this.headers,\r\n            method: 'PATCH',\r\n            body: JSON.stringify(data)\r\n        }).then(response => {\r\n            return this._getResponseData(response)\r\n        })\r\n    }\r\n\r\n    createNewUserAvatarApi (data) {\r\n        return fetch(this.url + 'users/me/avatar', {\r\n            headers: this.headers,\r\n            method: 'PATCH',\r\n            body: JSON.stringify(data)\r\n        }).then(response => {\r\n            return this._getResponseData(response)\r\n        })\r\n    }\r\n\r\n    likeApi (_id) {\r\n        return fetch(this.url + 'cards/likes/' + _id, {\r\n            headers: this.headers,\r\n            method: 'PUT'\r\n        }).then(response => {\r\n            return this._getResponseData(response)\r\n        })\r\n    }\r\n\r\n    deleteLikedApi (_id) {\r\n        return fetch(this.url + 'cards/likes/' + _id, {\r\n            headers: this.headers,\r\n            method: 'DELETE',\r\n        }).then(response => {\r\n            return this._getResponseData(response)\r\n        })\r\n    }\r\n}\r\n\r\n\r\nconst url = {\r\n    url: 'https://mesto.nomoreparties.co/v1/cohort-27/'\r\n}\r\nconst authorization = '8ab69193-abde-425d-8080-68fbeb2c2f47';\r\n\r\n\r\nexport const api = new Api(url, authorization);","class AuthApi {\r\n\r\n    constructor(config) {\r\n        this.url = config;\r\n    }\r\n\r\n    _getResponseData(res) {\r\n        if (!res.ok) {\r\n            return Promise.reject(`Ошибка: ${res.status}`);\r\n        }\r\n        return res.json();\r\n    }\r\n\r\n    register ({email, password}) {\r\n        return fetch(this.url +'/signup', {\r\n            method: 'POST',\r\n            headers: {'Accept': 'application/json',\r\n                      'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({email, password})\r\n        }).then(response => {\r\n                return this._getResponseData(response)\r\n        })\r\n    };\r\n\r\n    authorization ({email, password}) {\r\n        return fetch(this.url +'/signin', {\r\n            method: 'POST',\r\n            headers: {'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({email, password})\r\n        }).then(response => {\r\n            return this._getResponseData(response)\r\n        })\r\n    };\r\n\r\n    getContent (token) {\r\n        return fetch(this.url + '/users/me', {\r\n            method: 'GET',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${token}`,\r\n            }\r\n        }).then(response => {\r\n            return this._getResponseData(response)\r\n        })\r\n    }\r\n}\r\n\r\nconst baseUrl = 'https://auth.nomoreparties.co';\r\n\r\nexport const apiAuth = new AuthApi(baseUrl);\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport { Route, Switch, useHistory } from 'react-router-dom';\r\n\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\n\r\nimport imgLoginYes from '../images/login-yes.png';\r\nimport imgLoginNo from '../images/login-no.png';\r\n\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\nimport Header from './Header.js';\r\nimport Main from './Main.js';\r\nimport Footer from './Footer.js';\r\nimport Login from './Login.js';\r\nimport Register from './Register.js';\r\nimport AddPlacePopup from './AddPlacePopup.js';\r\nimport EditProfilePopup from './EditProfilePopup.js';\r\nimport EditAvatarPopup from './EditAvatarPopup.js';\r\nimport PopupDeleteCard from './PopupDeleteCard.js';\r\nimport ImagePopup from './ImagePopup.js';\r\nimport InfoTooltip from './InfoTooltip.js';\r\nimport {api} from \"../utils/Api\";\r\nimport {apiAuth} from \"../utils/AuthApi\";\r\n\r\n\r\nfunction App() {\r\n    const emptyCard = {name : '', link: ''};\r\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n    const [isDeleteCardPopupOpen, setIsDeleteCardPopupOpen] = React.useState(false);\r\n    const [selectedCard, setSelectedCard] = React.useState(emptyCard);\r\n    const [cards, setCards] = React.useState([]);\r\n    const [currentUser, setCurrentUser] = React.useState({});\r\n\r\n    const [loggedIn, setLoggedIn] =React.useState(false);\r\n\r\n    const [userEmail, setUserEmail] =React.useState('');\r\n\r\n    const [infoTooltipImg, setInfoTooltipImg] =React.useState(imgLoginYes);\r\n    const [infoTooltipText, setInfoTooltipText] =React.useState('Вы успешно зарегистрировались!');\r\n    const [popupInfoTooltipOpen, setPopupInfoTooltip] =React.useState(false);\r\n\r\n    //получение данных пользователя\r\n    React.useEffect(() => {\r\n        api\r\n            .getUserInfoApi()\r\n            .then(userData => {\r\n                setCurrentUser(userData)\r\n            })\r\n            .catch(err => console.log(err))\r\n    }, []);\r\n\r\n    //открытие и закрытие попапов\r\n    function handleEditAvatarClick(buttonText) {\r\n        setIsEditAvatarPopupOpen(true);\r\n    }\r\n\r\n    function handleEditProfileClick() {\r\n        setIsEditProfilePopupOpen(true);\r\n    }\r\n\r\n    function handleAddPlaceClick() {\r\n        setIsAddPlacePopupOpen(true);\r\n    }\r\n\r\n    function handleDeleteCardClick() {\r\n        setIsDeleteCardPopupOpen(true);\r\n    }\r\n\r\n    function handleCardClick(card) {\r\n        setSelectedCard(card);\r\n    }\r\n\r\n    function handleInfoTooltipOpen() {\r\n        setPopupInfoTooltip(true);\r\n        setInfoTooltipImg(imgLoginYes);\r\n        setInfoTooltipText('Вы успешно зарегистрировались!');\r\n    }\r\n\r\n    function closeAllPopups() {\r\n        setIsEditProfilePopupOpen(false);\r\n        setIsEditAvatarPopupOpen(false);\r\n        setIsAddPlacePopupOpen(false);\r\n        setIsDeleteCardPopupOpen(false);\r\n        setSelectedCard(emptyCard);\r\n        setPopupInfoTooltip(false);\r\n    }\r\n\r\n    //закрытие попапа по Esc\r\n    React.useEffect(() => {\r\n        const closeByEscape = (e) => {\r\n            if (e.key === 'Escape') {\r\n                closeAllPopups();\r\n            }\r\n        }\r\n\r\n        document.addEventListener('keydown', closeByEscape)\r\n\r\n        return () => document.removeEventListener('keydown', closeByEscape)\r\n    }, [])\r\n\r\n\r\n    //обновление данных пользователя\r\n    function handleUpdateUser(newUserData) {\r\n        buttonState(buttonText, true);\r\n        api\r\n            .createNewUserInfoApi(newUserData)\r\n            .then(newUserData => {\r\n                setCurrentUser(newUserData);\r\n                closeAllPopups();\r\n            })\r\n            .catch(err => console.log(err))\r\n            .finally(() => {\r\n                buttonState(buttonText, false)\r\n            });\r\n    }\r\n\r\n    //обновление аватара пользователя\r\n    function handleUpdateAvatar(newUserAvatar) {\r\n        buttonState(buttonText, true);\r\n        api\r\n            .createNewUserAvatarApi(newUserAvatar)\r\n            .then(newUserAvatar => {\r\n                setCurrentUser(newUserAvatar);\r\n                closeAllPopups();\r\n            })\r\n            .catch(err => console.log(err))\r\n            .finally(() => {\r\n                buttonState(buttonText, false)\r\n            });\r\n    }\r\n\r\n    //добавление новой карточки\r\n    function handleAddPlaceSubmit(newCard) {\r\n        buttonState(buttonText, true);\r\n        api\r\n            .createCardApi(newCard)\r\n            .then(newCard => {\r\n                setCards([newCard, ...cards]);\r\n                closeAllPopups();\r\n            })\r\n            .catch(err => console.log(err))\r\n            .finally(() => {\r\n                buttonState(buttonText, false)\r\n            });\r\n    }\r\n\r\n    //запрос данных карточки\r\n    React.useEffect(() => {\r\n        api\r\n            .getCards()\r\n            .then(cardsData => {\r\n                setCards(cardsData)\r\n            })\r\n            .catch(err => console.log(err))\r\n\r\n    }, []);\r\n\r\n    //лайки и дизлайки\r\n    function handleCardLike(card) {\r\n        // Снова проверяем, есть ли уже лайк на этой карточке\r\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n        if (!isLiked) {\r\n            api\r\n                .likeApi(card._id,)\r\n                .then((newCard) => {\r\n                    setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n                })\r\n                .catch(err => console.log(err))\r\n        }\r\n\r\n        else {\r\n            api\r\n                .deleteLikedApi(card._id)\r\n                .then((newCard) => {\r\n                    setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n                })\r\n                .catch(err => console.log(err))\r\n        }\r\n    }\r\n\r\n    //удаление карточки через попап\r\n    const [deleteCard, setDeleteCard] = React.useState([]);\r\n\r\n    //получаем данные карточки, которую надо удалить\r\n    function cardDataRead(cardDeleteData) {\r\n        setDeleteCard(cardDeleteData)\r\n    }\r\n    //обработчик удаления карточки\r\n    function handleDeleteCardSubmit(cardDataDelete) {\r\n        api\r\n            .deleteCardApi(cardDataDelete._id)\r\n            .then(() => {\r\n                setCards((state) => state.filter(cardData => cardDataDelete._id !== cardData._id))\r\n                closeAllPopups();\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n\r\n    const [buttonText, setButtonText] = React.useState('');\r\n    const [buttonDisable, setButtonDisable] = React.useState(false);\r\n\r\n    //Получаем изначальный текст кнопки\r\n    function buttonTextRead(buttonText) {\r\n        setButtonText(buttonText)\r\n    }\r\n\r\n    //Процесс загрузки\r\n    function buttonState(button, isLoading2) {\r\n        if(isLoading2) {\r\n            setButtonText('Сохранение...');\r\n            setButtonDisable(true);\r\n        }\r\n\r\n        else{\r\n            setButtonText(button);\r\n            setButtonDisable(false);\r\n        }\r\n    }\r\n\r\n\r\n    //регистрация\r\n    function handleRegister({email, password}) {\r\n        apiAuth\r\n            .register({email, password})\r\n            .then(response => {\r\n                console.log(response);\r\n                handleInfoTooltipOpen();\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n                handleInfoTooltipOpen();\r\n                setInfoTooltipImg(imgLoginNo);\r\n                setInfoTooltipText('Что-то пошло не так!\\n' + 'Попробуйте ещё раз.');\r\n            })\r\n    }\r\n\r\n    //вход\r\n    function handleLogin({email, password}){\r\n        apiAuth\r\n            .authorization({email, password})\r\n            .then(data => {\r\n                if(data.token) {\r\n                    const token = data.token;\r\n                    localStorage.setItem('jwt', token);\r\n                    setLoggedIn(true);\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n    }\r\n\r\n    const history = useHistory();\r\n\r\n    React.useEffect(() => {\r\n        if(loggedIn === true) {\r\n            history.push('/');\r\n        }\r\n\r\n    }, [loggedIn]);\r\n\r\n    React.useEffect(() => {\r\n        tokenCheck();\r\n    }, []);\r\n\r\n    //проверка токена\r\n    function tokenCheck() {\r\n        const jwt = localStorage.getItem('jwt');\r\n        if (jwt){\r\n            apiAuth.getContent(jwt).then((data) => {\r\n                if (data){\r\n                    setUserEmail(data.data.email);\r\n                    setLoggedIn(true);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    //выход\r\n    function signOut(){\r\n        localStorage.removeItem('jwt');\r\n        history.push('/sign-in');\r\n        setLoggedIn(false);\r\n    }\r\n\r\n    return (\r\n    <div className=\"App\">\r\n        <CurrentUserContext.Provider value={currentUser}>\r\n            <div className=\"page\">\r\n                <div className=\"page__content\">\r\n                    <Header loggedIn={loggedIn} email={userEmail} onSignOut={signOut}/>\r\n\r\n                    <Switch>\r\n                        <Route path=\"/sign-up\">\r\n                            <Register onRegister={handleRegister}/>\r\n                        </Route>\r\n\r\n                        <Route path=\"/sign-in\">\r\n                            <Login onLogin={handleLogin}/>\r\n                        </Route>\r\n\r\n                        <ProtectedRoute\r\n                            path=\"/\"\r\n                            loggedIn={loggedIn}\r\n                            component={Main}\r\n\r\n                            onEditProfile={handleEditProfileClick}\r\n                            onAddPlace={handleAddPlaceClick}\r\n                            onEditAvatar={handleEditAvatarClick}\r\n                            onCardClick={handleCardClick}\r\n                            cards={cards}\r\n                            onCardLike={handleCardLike}\r\n                            onCardDelete={handleDeleteCardClick}\r\n                            onCardDataRead={cardDataRead}\r\n                            onButtonTextRead={buttonTextRead}\r\n                        />\r\n\r\n\r\n                    </Switch>\r\n\r\n                    <Footer/>\r\n\r\n                    <InfoTooltip isOpen={popupInfoTooltipOpen} onClose={closeAllPopups} popupText={infoTooltipText}\r\n                                 popupImg={infoTooltipImg} name='infoTooltip'/>\r\n\r\n                    <ImagePopup card={selectedCard} onClose={closeAllPopups}/>\r\n\r\n                    <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser}\r\n                                      buttonText={buttonText} buttonDisable={buttonDisable}/>\r\n\r\n                    <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar}\r\n                                     buttonText={buttonText} buttonDisable={buttonDisable}\r\n\r\n                    />\r\n\r\n                    <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit}\r\n                                   buttonText={buttonText} buttonDisable={buttonDisable}/>\r\n\r\n                    <PopupDeleteCard isOpen={isDeleteCardPopupOpen} onClose={closeAllPopups} onDeleteCard={handleDeleteCardSubmit}\r\n                                     onCardDeleteData={deleteCard} buttonText={buttonText}/>\r\n\r\n                </div>\r\n            </div>\r\n        </CurrentUserContext.Provider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAARVBMVEUAAAD9Bgb7CAj9Bwf6BQX8Bgb9Bgb9Bgb+Bwf/EBD6Bgb9Bgb7CAj7BAT+Bgb9Bgb/AAD8Bgb8Bgb6CQn9Bwf/Bwf9Bwdfpk7LAAAAFnRSTlMA7yDfMICfYL8QcJBAQM+vEKBQcHBvZQGlFwAABDxJREFUaN7Vm9t62yAQhDkI0BE5Tqr3f9Qa43a+xnEWxpDPnStfSPzeYQEhVqpa0xYWP1qrjyQbx93N26T6apt3e3wpu8+b6qNpHvXxrfQeTAfq3+ajd2E1JrtrhjW4HX9pbMre/K1h6x+1O4Q3e2P7rRV2vAUzC8GYcLsyhhZYe6OKiZvZMVsTmkSrl1UVa3jL6GcMNxnrpsrblqtLnk6zXxrYSrTL//iJcP1EmnU13Boy3LgqWsamoD9qJ4wl/WGnntLV76Xu38bk08ASEXSl3UO6YWmw4pyWKvI5de+smug9dfRZFSmkawWbK90LRVzBHaqjA8vtTz6D25Z8Fq7R4LYkS1ljLM99qt0OXDgZH08MabgPqouG72bPX2XzBj+TfDy2Y1HtBTu1edjBHXcEp0v746NFzKiOGmD2Z6Od6ir3pdn+YrTqrPiF2WtfowHZ7jPLq+56uws5IOCeOunPIVtkVle5T5kUhDm6W8iRmLPokMfalJ7ah+xLUtqVPACeC6ZssExeDUWPZLI/XMFY1hNSKxZwZbIv2faMxzHjZ5C5mSxxZfJ8SS84bUSuSM5cmXy6XDL9cXoUn5hAFrggi17vstODQAYXYNlrDafLyCwXg0jn/Mb0WUhmuVgYthy5VwSZ4GJxnNHFBJni5mzec+CDIsg0V5lr555yVxNkkpvTeVIrRjFBprgqpuyak+EUmeAiu4JyuIEgU9zEXJDUBLmai7T2akx+s2SOm/MqptFEkiFwi8eTxUxNkMGtBl/uUoog89w8dwBMkEmuSlCAebJTLJggH9CifhDsD0gPFDhN2CQXZAKM4URxQe46jsElyciQiCmT4BJkTJlpiWK5XleT8eyzpHHIcZ0aOHJaihPds1zFkdNSPCe/I8slyTmv0oRNcllynjswnghuJRmjyeKBnuASZCR13sIQXIaMhmZs2gguQcamDdtUgkuQsU3FDr2CS5LRxdih89x7shFHccDbEPngD1yB7CSnU9eWeu2EVkEWuHjXU+i1k1vNZFewVQx3LzYlspOePWXucHUa28albC1TAlnk4oUtXmyKZNfgzbL59zxkRDSdtWAVLg252UFyeIXDkJ8K2dyXKYx9Drzkc0ScvvGqTGmEHFU34RzxdY5x1XuvygQY/SC0se9R/ZRKAV6rOAEVE42FWo9XK0BRp/jAjjbFPq9YZKSGfmVV5jULye5L5/7foj1wi8jtyiM1uEUFoR/t5g19LnanVQnstMA9slqXr0KNdc20KXNmjHvXTwa9xdS9MzcM+Ar8yae7R8NZlbd/hsA6jXD5CvzFEFiES2m1+TXtUNG3S8au6jmFjI7B1HwlZIHlFWLhF0UmUVtEC8Pfjizrw/AAGrzN12jfAot28aHVuLuwDSZba8wWnI+pW6WvhHj2Ln1aJlJ5z7/7mG5VfTWts9vHaHOQ1o5+CWt9pL8BKj+VgJVzJVsAAAAASUVORK5CYII=\"","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n      <BrowserRouter>\r\n          <App />\r\n      </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}