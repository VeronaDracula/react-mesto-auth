(this["webpackJsonpmesto-react"]=this["webpackJsonpmesto-react"]||[]).push([[0],{29:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),o=n(19),r=n.n(o),i=n(8),c=(n(29),n(22)),l=n(2),u=n(3),p=s.a.createContext(),m="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAANlBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC3dmhyAAAAEXRSTlMAIN/vYBCAQL9wMJ/PkK+gUEytRtEAAAQQSURBVGje1ZvZduowDEUteZ4C/P/PXoy5VYtJ4zGLnleSbHQsy/EQ1iypRfQGkd+SMJhNWS3ZWmm74e2tcLOarZG0ht9+Fd8ELKB+PT54JTRAdhecFmqjv2SmsrV/Phj93nOduOCT7fUsrHkGYw+CAfG8MogZWHxSqxIXRMjWiCnR8tjgnrtk9IjhkLFKNt4WHy556OVaTthGtMr/eCBcLzvNehiO0BluGGgowBS0bS0YMf1hxYb08Du2/duQfHJsUICNdrt0Q5QTKm1sIl9T81o2RTY19LXuWpGuHbG5dE9UcUt3xhta9HLXk6/EnUu+HlzDiTuXzN3BFd3coecu4JKTYb8wpO7u2BK536qnnVE3mh5OdsSJqNJODrsNLNkyyfvzzd4gBmyhHJn9arRiS6Xemu3vRrPFCm/M1muNJoguM8uz5boUIQsKeKUkfw0ZKbOWSr1kkuir0eMhh3U1qwzZDKf0eMieUnq54jcWNI2G432ZS0qtwE6ToYptKl4Cpw7MhpwGdprkHSf/O23YeSKvt6lOO1XtNZ/ptOP7tZc6EX/mN07jCl4xn8dcQ+zE6iFuD6nDwdFSE8/jEnn/si0H7mYNAF+yB42Mj27Fp3NxP5RnOsuUW2Y6Fw5f+nTKre00LmWXSDeo07h0caSkPoNLae2ZSX6Pyjdxc14F6k0zuIG4B/0Jhyu1/M6VrBZ8v7rq6fu/hEZurh2VYAiignup47IErQTj3os3fOcyNhus9vIVsODOBAsq/ftcxZrAuWAX2nm8h0EugWu6kymGnTEu9eOKgIkwwqVlmEAl82Arp6hNrotLJTMNUTV7QSQUDy7v4tK7T6T7qu2O8gdXdIxlKtF95fSShHaEm4Zim/wOdf7g+/35dm7Oq/qXPTDvuK6dm2tHy7ioBrnUm7DhhZ5yrKgnHUldTGGaujRC7wuLbZ+0WT7ApUlbxzQVsJtL01SaobdIEbe3iWmG3qQrdnJprYdWQ5oEJnRxaa2HvG6U7ILSWg95fZpCdpoWNk+Sy05nXdavGpcLtrSwuViUWvpHhit2iiKNwieFTGVPfMJmyFkhQ/mmZNbvDtA+Yrn7tljwDmKW7g/QPuLnbOMyu3ovBvbmHGb9Vj1+1uGEE45jfNoBFCZDYcfEGo3yAw8ZMbfuWBV85kGyl6Nzf/rQHnGryG7enl/ifvaBUMZg7hFY13Nad/wUauMsa84x5x7jLB8MWoeOg9008/cwskNioM8q/vAbOrCKU7j9J/AjNGMp3LHvQrxruCVmrGZjEhkdBLR8JYSEHUCHyi+KIFMp2mHpyy0LvXA7UOExX8P9DCw9lz60MpsS2kG2FkAL5UNq1uIroWns7ejTsh3qX/2Yjj4ftGozAXOQiMZHodsj/QcvIWFxIhkcawAAAABJRU5ErkJggg==",d=n(23),j=n(24),b=n(0),h=["component"],f=function(e){var t=e.component,n=Object(j.a)(e,h);return Object(b.jsx)(u.b,{children:function(){return n.loggedIn?Object(b.jsx)(t,Object(d.a)({},n)):Object(b.jsx)(u.a,{to:"./sign-in"})}})},_=n.p+"static/media/logo.bbe2a6ea.svg";var O=function(e){return Object(b.jsxs)("header",{className:"header",children:[Object(b.jsx)("div",{children:Object(b.jsx)("img",{className:"logo",src:_,alt:"\u043b\u043e\u0433\u043e\u0442\u0438\u043f"})}),Object(b.jsx)("div",{className:"header__user-actions",children:Object(b.jsxs)(u.d,{children:[Object(b.jsx)(u.b,{path:"/sign-up",children:Object(b.jsx)(i.b,{to:"/sign-in",className:"header__link",children:"\u0412\u0445\u043e\u0434"})}),Object(b.jsx)(u.b,{path:"/sign-in",children:Object(b.jsx)(i.b,{to:"/sign-up",className:"header__link",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})}),Object(b.jsxs)(u.b,{path:"/",children:[Object(b.jsx)("p",{className:"header__email",children:e.email}),Object(b.jsx)(i.b,{to:"/sign-in",onClick:e.onSignOut,className:"header__link header__link_type_auth",children:"\u0412\u044b\u0439\u0442\u0438"})]})]})})]})};var x=function(e){var t=s.a.useContext(p),n=e.card.owner._id===t._id,a="card__delete page__button ".concat(n?"card__delete_visible":"card__delete_invisible"),o=e.card.likes.some((function(e){return e._id===t._id})),r="".concat(o?"card__like card__like_active":"card__like");return Object(b.jsxs)("li",{className:"card",children:[Object(b.jsx)("button",{className:a,type:"button",onClick:function(){e.onCardDelete(),e.onCardDataRead(e.card),e.onButtonPopupTextRead("\u0414\u0430")}}),Object(b.jsx)("img",{className:"card__image",alt:e.name,src:e.link,onClick:function(){e.onCardClick(e.card)}}),Object(b.jsxs)("div",{className:"card__image-info",children:[Object(b.jsx)("h2",{className:"card__title",children:e.name}),Object(b.jsxs)("div",{className:"card__like-box",children:[Object(b.jsx)("button",{className:r,type:"button",onClick:function(){e.onCardLike(e.card)}}),Object(b.jsx)("p",{className:"card__like-amount",children:e.likes})]})]})]})};var g=function(e){var t=s.a.useContext(p);return Object(b.jsxs)("main",{className:"content",children:[Object(b.jsxs)("section",{className:"profile",children:[Object(b.jsxs)("div",{className:"profile__info",children:[Object(b.jsxs)("div",{className:"profile__avatar-box",children:[Object(b.jsx)("img",{className:"profile__avatar",alt:"\u0430\u0432\u0430\u0442\u0430\u0440",src:t.avatar}),Object(b.jsx)("div",{className:"profile__avatar-hover",children:Object(b.jsx)("button",{className:"profile__edit-avatar-button",type:"button",onClick:function(){e.onEditAvatar(),e.onButtonTextRead("\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")}})})]}),Object(b.jsxs)("div",{className:"profile__text",children:[Object(b.jsxs)("div",{className:"profile__name-edit",children:[Object(b.jsx)("h1",{className:"profile__name",children:t.name}),Object(b.jsx)("button",{className:"profile__edit-button page__button",type:"button",onClick:function(){e.onEditProfile(),e.onButtonTextRead("\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")}})]}),Object(b.jsx)("p",{className:"profile__about",children:t.about})]})]}),Object(b.jsx)("button",{className:"profile__add-button page__button",type:"button",onClick:function(){e.onAddPlace(),e.onButtonTextRead("\u0421\u043e\u0437\u0434\u0430\u0442\u044c")}})]}),Object(b.jsx)("section",{className:"gallery",children:Object(b.jsx)("ul",{className:"cards",children:e.cards.map((function(t){return Object(b.jsx)(x,{card:t,name:t.name,link:t.link,likes:t.likes.length,onCardClick:e.onCardClick,onCardLike:e.onCardLike,onCardDelete:e.onCardDelete,onCardDataRead:e.onCardDataRead,onButtonPopupTextRead:e.onButtonTextRead},t._id)}))})})]})};var A=function(){return Object(b.jsx)("footer",{className:"footer",children:Object(b.jsx)("p",{className:"footer__copyright",children:"\xa9 2021 Mesto Russia"})})};var v=function(e){var t=s.a.useState(""),n=Object(l.a)(t,2),a=n[0],o=n[1],r=s.a.useState(""),i=Object(l.a)(r,2),c=i[0],u=i[1];return Object(b.jsxs)("section",{className:"start-page",children:[Object(b.jsx)("h2",{className:"start-page__title",children:"\u0412\u0445\u043e\u0434"}),Object(b.jsxs)("form",{className:"form",name:"login",onSubmit:function(t){t.preventDefault(),e.onLogin({email:a,password:c}),o(""),u("")},children:[Object(b.jsxs)("div",{className:"form__section",children:[Object(b.jsx)("label",{htmlFor:"email",className:"form__label"}),Object(b.jsx)("input",{type:"email",className:"form__item form__item_type_start-page form__item_type_email",id:"email",name:"email",placeholder:"Email",required:!0,minLength:"2",maxLength:"40",value:a||"",onChange:function(e){o(e.target.value)}}),Object(b.jsx)("span",{className:"form__input-error",id:"email-error"})]}),Object(b.jsxs)("div",{className:"form__section",children:[Object(b.jsx)("label",{htmlFor:"password",className:"form__label"}),Object(b.jsx)("input",{type:"password",className:"form__item form__item_type_start-page form__item_type_password",id:"password",name:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",required:!0,minLength:"5",maxLength:"15",value:c||"",onChange:function(e){u(e.target.value)}}),Object(b.jsx)("span",{className:"form__input-error",id:"password-error"})]}),Object(b.jsx)("button",{type:"submit",className:"form__save form__save_type_start-page",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})};var N=function(e){var t=s.a.useState(""),n=Object(l.a)(t,2),a=n[0],o=n[1],r=s.a.useState(""),c=Object(l.a)(r,2),u=c[0],p=c[1];return Object(b.jsxs)("section",{className:"start-page",children:[Object(b.jsx)("h2",{className:"start-page__title",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(b.jsxs)("form",{className:"form",name:"register",onSubmit:function(t){t.preventDefault(),e.onRegister({email:a,password:u}),o(""),p("")},children:[Object(b.jsxs)("div",{className:"form__section",children:[Object(b.jsx)("label",{htmlFor:"email",className:"form__label"}),Object(b.jsx)("input",{type:"email",className:"form__item form__item_type_start-page form__item_type_email",id:"email",name:"email",placeholder:"Email",required:!0,minLength:"2",maxLength:"40",value:a||"",onChange:function(e){o(e.target.value)}}),Object(b.jsx)("span",{className:"form__input-error",id:"email-error"})]}),Object(b.jsxs)("div",{className:"form__section",children:[Object(b.jsx)("label",{htmlFor:"password",className:"form__label"}),Object(b.jsx)("input",{type:"password",className:"form__item form__item_type_start-page form__item_type_password",id:"password",name:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",required:!0,minLength:"5",maxLength:"15",value:u||"",onChange:function(e){p(e.target.value)}}),Object(b.jsx)("span",{className:"form__input-error",id:"password-error"})]}),Object(b.jsx)("button",{type:"submit",className:"form__save form__save_type_start-page",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(b.jsx)(i.b,{to:"/sign-in",className:"start-page__login-link",children:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? \u0412\u043e\u0439\u0442\u0438"})]})};var y=function(e){return Object(b.jsx)("section",{className:e.isOpen?"popup popup_type_".concat(e.name," popup_is-opened"):"popup popup_type_".concat(e.name),children:Object(b.jsxs)("div",{className:"popup__container",children:[Object(b.jsx)("button",{className:"popup__close page__button",onClick:e.onClose}),Object(b.jsxs)("div",{className:"popup__content",children:[Object(b.jsx)("h2",{className:"popup__title",children:e.title}),Object(b.jsxs)("form",{className:"form",name:e.name,onSubmit:e.onSubmit,children:[e.children,Object(b.jsx)("button",{type:"submit",className:"form__save",disabled:e.buttonDisable,children:e.buttonText})]})]})]})})};var k=function(e){var t=s.a.useState(""),n=Object(l.a)(t,2),a=n[0],o=n[1],r=s.a.useState(""),i=Object(l.a)(r,2),c=i[0],u=i[1];return Object(b.jsx)(y,{name:"card",title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",isOpen:e.isOpen,onClose:e.onClose,onSubmit:function(t){t.preventDefault(),e.onAddPlace({name:a,link:c}),o(""),u("")},buttonText:e.buttonText,buttonDisable:e.buttonDisable,children:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"form__section",children:[Object(b.jsx)("label",{htmlFor:"photo-name",className:"form__label"}),Object(b.jsx)("input",{type:"text",className:"form__item form__item_type_photo-name",id:"photo-name",name:"name",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",required:!0,minLength:"2",maxLength:"30",value:a||"",onChange:function(e){o(e.target.value)}}),Object(b.jsx)("span",{className:"form__input-error",id:"photo-name-error"})]}),Object(b.jsxs)("div",{className:"form__section",children:[Object(b.jsx)("label",{htmlFor:"link",className:"form__label"}),Object(b.jsx)("input",{type:"url",className:"form__item form__item_type_link",id:"link",name:"link",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",required:!0,value:c||"",onChange:function(e){u(e.target.value)}}),Object(b.jsx)("span",{className:"form__input-error",id:"link-error"})]})]})})};var C=function(e){var t=s.a.useState(""),n=Object(l.a)(t,2),a=n[0],o=n[1],r=s.a.useState(""),i=Object(l.a)(r,2),c=i[0],u=i[1],m=s.a.useContext(p);return s.a.useEffect((function(){o(m.name),u(m.about)}),[m,e.isOpen]),Object(b.jsx)(y,{name:"profile",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",isOpen:e.isOpen,onClose:e.onClose,onSubmit:function(t){t.preventDefault(),e.onUpdateUser({name:a,about:c})},buttonText:e.buttonText,buttonDisable:e.buttonDisable,children:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"form__section",children:[Object(b.jsx)("label",{htmlFor:"name",className:"form__label"}),Object(b.jsx)("input",{type:"text",className:"form__item form__item_type_name",id:"name",name:"name",placeholder:"\u0418\u043c\u044f",required:!0,minLength:"2",maxLength:"40",value:a||"",onChange:function(e){o(e.target.value)}}),Object(b.jsx)("span",{className:"form__input-error",id:"name-error"})]}),Object(b.jsxs)("div",{className:"form__section",children:[Object(b.jsx)("label",{htmlFor:"about",className:"form__label"}),Object(b.jsx)("input",{type:"text",className:"form__item form__item_type_about",id:"about",name:"about",placeholder:"\u041e \u0441\u0435\u0431\u0435",required:!0,minLength:"2",maxLength:"200",value:c||"",onChange:function(e){u(e.target.value)}}),Object(b.jsx)("span",{className:"form__input-error",id:"about-error"})]})]})})};var S=function(e){var t=s.a.useRef();return Object(b.jsx)(y,{name:"edit-avatar",title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",isOpen:e.isOpen,onClose:e.onClose,onSubmit:function(n){n.preventDefault(),e.onUpdateAvatar({avatar:t.current.value}),t.current.value=""},buttonText:e.buttonText,buttonDisable:e.buttonDisable,children:Object(b.jsxs)("div",{className:"form__section",children:[Object(b.jsx)("label",{htmlFor:"avatar-link",className:"form__label"}),Object(b.jsx)("input",{ref:t,type:"url",className:"form__item form__item_type_avatar-link",id:"avatar-link",name:"avatar",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",required:!0,defaultValue:""}),Object(b.jsx)("span",{className:"form__input-error",id:"avatar-link-error"})]})})};var D=function(e){return Object(b.jsx)(y,{name:"cardDelete",title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",isOpen:e.isOpen,onClose:e.onClose,onSubmit:function(t){t.preventDefault(),e.onDeleteCard(e.onCardDeleteData)},buttonText:e.buttonText,buttonDisable:e.buttonDisable})};var w=function(e){return Object(b.jsx)("section",{className:""!==e.card.link?"popup popup_type_photo popup_is-opened":"popup popup_type_photo",children:Object(b.jsxs)("div",{className:"popup-photo",children:[Object(b.jsx)("button",{className:"popup__close page__button",onClick:e.onClose}),Object(b.jsxs)("figure",{className:"popup-photo__image-container",children:[Object(b.jsx)("img",{className:"popup-photo__image",alt:e.card.name,src:e.card.link}),Object(b.jsx)("figcaption",{className:"popup-photo__title",children:e.card.name})]})]})})};var T=function(e){return Object(b.jsx)("section",{className:e.isOpen?"popup popup_type_".concat(e.name," popup_is-opened"):"popup popup_type_".concat(e.name),children:Object(b.jsxs)("div",{className:"popup__container",children:[Object(b.jsx)("button",{className:"popup__close page__button",onClick:e.onClose}),Object(b.jsxs)("div",{className:"popup__content popup__content_type_info-login",children:[Object(b.jsx)("img",{className:"popup-info-tooltip__image",alt:"\u0438\u043a\u043e\u043d\u043a\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u0441\u0442\u0430\u0442\u0443\u0441\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438",src:e.popupImg}),Object(b.jsx)("p",{className:"popup-info-tooltip__text",children:e.popupText})]})]})})},E=n(13),L=n(14),U=new(function(){function e(t,n){Object(E.a)(this,e),this.url=t.url,this.authorization=n,this.headers={"Content-Type":"application/json",authorization:this.authorization}}return Object(L.a)(e,[{key:"_getResponseData",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}},{key:"getCards",value:function(){var e=this;return fetch(this.url+"cards",{headers:this.headers}).then((function(t){return e._getResponseData(t)}))}},{key:"createCardApi",value:function(e){var t=this;return fetch(this.url+"cards",{headers:this.headers,method:"POST",body:JSON.stringify(e)}).then((function(e){return t._getResponseData(e)}))}},{key:"deleteCardApi",value:function(e){var t=this;return fetch(this.url+"cards/"+e,{headers:this.headers,method:"DELETE"}).then((function(e){return t._getResponseData(e)}))}},{key:"getUserInfoApi",value:function(){var e=this;return fetch(this.url+"users/me",{headers:this.headers}).then((function(t){return e._getResponseData(t)}))}},{key:"createNewUserInfoApi",value:function(e){var t=this;return fetch(this.url+"users/me",{headers:this.headers,method:"PATCH",body:JSON.stringify(e)}).then((function(e){return t._getResponseData(e)}))}},{key:"createNewUserAvatarApi",value:function(e){var t=this;return fetch(this.url+"users/me/avatar",{headers:this.headers,method:"PATCH",body:JSON.stringify(e)}).then((function(e){return t._getResponseData(e)}))}},{key:"likeApi",value:function(e){var t=this;return fetch(this.url+"cards/likes/"+e,{headers:this.headers,method:"PUT"}).then((function(e){return t._getResponseData(e)}))}},{key:"deleteLikedApi",value:function(e){var t=this;return fetch(this.url+"cards/likes/"+e,{headers:this.headers,method:"DELETE"}).then((function(e){return t._getResponseData(e)}))}}]),e}())({url:"https://mesto.nomoreparties.co/v1/cohort-27/"},"8ab69193-abde-425d-8080-68fbeb2c2f47"),B=new(function(){function e(t){Object(E.a)(this,e),this.url=t}return Object(L.a)(e,[{key:"_getResponseData",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}},{key:"register",value:function(e){var t=this,n=e.email,a=e.password;return fetch(this.url+"/signup",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:n,password:a})}).then((function(e){return t._getResponseData(e)}))}},{key:"authorization",value:function(e){var t=this,n=e.email,a=e.password;return fetch(this.url+"/signin",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:n,password:a})}).then((function(e){return t._getResponseData(e)}))}},{key:"getContent",value:function(e){var t=this;return fetch(this.url+"/users/me",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){return t._getResponseData(e)}))}}]),e}())("https://auth.nomoreparties.co");var R=function(){var e={name:"",link:""},t=s.a.useState(!1),n=Object(l.a)(t,2),a=n[0],o=n[1],r=s.a.useState(!1),i=Object(l.a)(r,2),d=i[0],j=i[1],h=s.a.useState(!1),_=Object(l.a)(h,2),x=_[0],y=_[1],E=s.a.useState(!1),L=Object(l.a)(E,2),R=L[0],F=L[1],M=s.a.useState(e),P=Object(l.a)(M,2),H=P[0],I=P[1],V=s.a.useState([]),Z=Object(l.a)(V,2),X=Z[0],J=Z[1],G=s.a.useState({}),W=Object(l.a)(G,2),q=W[0],Q=W[1],K=s.a.useState(!1),z=Object(l.a)(K,2),Y=z[0],$=z[1],ee=s.a.useState(""),te=Object(l.a)(ee,2),ne=te[0],ae=te[1],se=s.a.useState(m),oe=Object(l.a)(se,2),re=oe[0],ie=oe[1],ce=s.a.useState("\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c!"),le=Object(l.a)(ce,2),ue=le[0],pe=le[1],me=s.a.useState(!1),de=Object(l.a)(me,2),je=de[0],be=de[1];function he(){be(!0),ie(m),pe("\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c!")}function fe(){o(!1),y(!1),j(!1),F(!1),I(e),be(!1)}s.a.useEffect((function(){U.getUserInfoApi().then((function(e){Q(e)})).catch((function(e){return console.log(e)}))}),[]),s.a.useEffect((function(){var e=function(e){"Escape"===e.key&&fe()};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[]),s.a.useEffect((function(){U.getCards().then((function(e){J(e)})).catch((function(e){return console.log(e)}))}),[]);var _e=s.a.useState([]),Oe=Object(l.a)(_e,2),xe=Oe[0],ge=Oe[1],Ae=s.a.useState(""),ve=Object(l.a)(Ae,2),Ne=ve[0],ye=ve[1],ke=s.a.useState(!1),Ce=Object(l.a)(ke,2),Se=Ce[0],De=Ce[1];function we(e,t){t?(ye("\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435..."),De(!0)):(ye(e),De(!1))}var Te=Object(u.g)();function Ee(){var e=localStorage.getItem("jwt");e&&B.getContent(e).then((function(e){e&&(ae(e.data.email),$(!0))})).catch((function(e){console.log(e)}))}return s.a.useEffect((function(){!0===Y&&Te.push("/")}),[Y]),s.a.useEffect((function(){Ee()}),[]),Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(p.Provider,{value:q,children:Object(b.jsx)("div",{className:"page",children:Object(b.jsxs)("div",{className:"page__content",children:[Object(b.jsx)(O,{loggedIn:Y,email:ne,onSignOut:function(){localStorage.removeItem("jwt"),Te.push("/sign-in"),$(!1)}}),Object(b.jsxs)(u.d,{children:[Object(b.jsx)(u.b,{path:"/sign-up",children:Object(b.jsx)(N,{onRegister:function(e){var t=e.email,n=e.password;B.register({email:t,password:n}).then((function(e){console.log(e),he()})).catch((function(e){console.log(e),he(),ie("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAARVBMVEUAAAD9Bgb7CAj9Bwf6BQX8Bgb9Bgb9Bgb+Bwf/EBD6Bgb9Bgb7CAj7BAT+Bgb9Bgb/AAD8Bgb8Bgb6CQn9Bwf/Bwf9Bwdfpk7LAAAAFnRSTlMA7yDfMICfYL8QcJBAQM+vEKBQcHBvZQGlFwAABDxJREFUaN7Vm9t62yAQhDkI0BE5Tqr3f9Qa43a+xnEWxpDPnStfSPzeYQEhVqpa0xYWP1qrjyQbx93N26T6apt3e3wpu8+b6qNpHvXxrfQeTAfq3+ajd2E1JrtrhjW4HX9pbMre/K1h6x+1O4Q3e2P7rRV2vAUzC8GYcLsyhhZYe6OKiZvZMVsTmkSrl1UVa3jL6GcMNxnrpsrblqtLnk6zXxrYSrTL//iJcP1EmnU13Boy3LgqWsamoD9qJ4wl/WGnntLV76Xu38bk08ASEXSl3UO6YWmw4pyWKvI5de+smug9dfRZFSmkawWbK90LRVzBHaqjA8vtTz6D25Z8Fq7R4LYkS1ljLM99qt0OXDgZH08MabgPqouG72bPX2XzBj+TfDy2Y1HtBTu1edjBHXcEp0v746NFzKiOGmD2Z6Od6ir3pdn+YrTqrPiF2WtfowHZ7jPLq+56uws5IOCeOunPIVtkVle5T5kUhDm6W8iRmLPokMfalJ7ah+xLUtqVPACeC6ZssExeDUWPZLI/XMFY1hNSKxZwZbIv2faMxzHjZ5C5mSxxZfJ8SS84bUSuSM5cmXy6XDL9cXoUn5hAFrggi17vstODQAYXYNlrDafLyCwXg0jn/Mb0WUhmuVgYthy5VwSZ4GJxnNHFBJni5mzec+CDIsg0V5lr555yVxNkkpvTeVIrRjFBprgqpuyak+EUmeAiu4JyuIEgU9zEXJDUBLmai7T2akx+s2SOm/MqptFEkiFwi8eTxUxNkMGtBl/uUoog89w8dwBMkEmuSlCAebJTLJggH9CifhDsD0gPFDhN2CQXZAKM4URxQe46jsElyciQiCmT4BJkTJlpiWK5XleT8eyzpHHIcZ0aOHJaihPds1zFkdNSPCe/I8slyTmv0oRNcllynjswnghuJRmjyeKBnuASZCR13sIQXIaMhmZs2gguQcamDdtUgkuQsU3FDr2CS5LRxdih89x7shFHccDbEPngD1yB7CSnU9eWeu2EVkEWuHjXU+i1k1vNZFewVQx3LzYlspOePWXucHUa28albC1TAlnk4oUtXmyKZNfgzbL59zxkRDSdtWAVLg252UFyeIXDkJ8K2dyXKYx9Drzkc0ScvvGqTGmEHFU34RzxdY5x1XuvygQY/SC0se9R/ZRKAV6rOAEVE42FWo9XK0BRp/jAjjbFPq9YZKSGfmVV5jULye5L5/7foj1wi8jtyiM1uEUFoR/t5g19LnanVQnstMA9slqXr0KNdc20KXNmjHvXTwa9xdS9MzcM+Ar8yae7R8NZlbd/hsA6jXD5CvzFEFiES2m1+TXtUNG3S8au6jmFjI7B1HwlZIHlFWLhF0UmUVtEC8Pfjizrw/AAGrzN12jfAot28aHVuLuwDSZba8wWnI+pW6WvhHj2Ln1aJlJ5z7/7mG5VfTWts9vHaHOQ1o5+CWt9pL8BKj+VgJVzJVsAAAAASUVORK5CYII="),pe("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a!\n\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437.")}))}})}),Object(b.jsx)(u.b,{path:"/sign-in",children:Object(b.jsx)(v,{onLogin:function(e){var t=e.email,n=e.password;B.authorization({email:t,password:n}).then((function(e){if(e.token){var t=e.token;localStorage.setItem("jwt",t),Ee(),$(!0)}})).catch((function(e){console.log(e)}))}})}),Object(b.jsx)(f,{path:"/",loggedIn:Y,component:g,onEditProfile:function(){o(!0)},onAddPlace:function(){j(!0)},onEditAvatar:function(e){y(!0)},onCardClick:function(e){I(e)},cards:X,onCardLike:function(e){e.likes.some((function(e){return e._id===q._id}))?U.deleteLikedApi(e._id).then((function(t){J((function(n){return n.map((function(n){return n._id===e._id?t:n}))}))})).catch((function(e){return console.log(e)})):U.likeApi(e._id).then((function(t){J((function(n){return n.map((function(n){return n._id===e._id?t:n}))}))})).catch((function(e){return console.log(e)}))},onCardDelete:function(){F(!0)},onCardDataRead:function(e){ge(e)},onButtonTextRead:function(e){ye(e)}})]}),Object(b.jsx)(A,{}),Object(b.jsx)(T,{isOpen:je,onClose:fe,popupText:ue,popupImg:re,name:"infoTooltip"}),Object(b.jsx)(w,{card:H,onClose:fe}),Object(b.jsx)(C,{isOpen:a,onClose:fe,onUpdateUser:function(e){we(Ne,!0),U.createNewUserInfoApi(e).then((function(e){Q(e),fe()})).catch((function(e){return console.log(e)})).finally((function(){we(Ne,!1)}))},buttonText:Ne,buttonDisable:Se}),Object(b.jsx)(S,{isOpen:x,onClose:fe,onUpdateAvatar:function(e){we(Ne,!0),U.createNewUserAvatarApi(e).then((function(e){Q(e),fe()})).catch((function(e){return console.log(e)})).finally((function(){we(Ne,!1)}))},buttonText:Ne,buttonDisable:Se}),Object(b.jsx)(k,{isOpen:d,onClose:fe,onAddPlace:function(e){we(Ne,!0),U.createCardApi(e).then((function(e){J([e].concat(Object(c.a)(X))),fe()})).catch((function(e){return console.log(e)})).finally((function(){we(Ne,!1)}))},buttonText:Ne,buttonDisable:Se}),Object(b.jsx)(D,{isOpen:R,onClose:fe,onDeleteCard:function(e){U.deleteCardApi(e._id).then((function(){J((function(t){return t.filter((function(t){return e._id!==t._id}))})),fe()})).catch((function(e){return console.log(e)}))},onCardDeleteData:xe,buttonText:Ne})]})})})})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,37)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),o(e),r(e)}))};r.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(i.a,{children:Object(b.jsx)(R,{})})}),document.getElementById("root")),F()}},[[36,1,2]]]);
//# sourceMappingURL=main.d83c8164.chunk.js.map