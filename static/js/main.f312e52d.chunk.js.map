{"version":3,"sources":["contexts/CurrentUserContext.js","images/logo.svg","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/Login.js","components/Register.js","components/PopupWithForm.js","components/AddPlacePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/PopupDeleteCard.js","components/ImagePopup.js","components/InfoTooltip.js","images/login-yes.png","utils/Api.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Header","className","src","headerLogo","alt","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","onClick","onCardDelete","onCardDataRead","onButtonPopupTextRead","name","link","onCardClick","onCardLike","Main","avatar","onEditAvatar","onButtonTextRead","onEditProfile","about","onAddPlace","cards","map","length","Footer","Login","onSubmit","htmlFor","id","placeholder","required","minLength","maxLength","Register","exact","to","PopupWithForm","isOpen","onClose","title","children","disabled","buttonDisable","buttonText","AddPlacePopup","useState","nameCard","setNameCard","linkCardImage","setLinkCardImage","e","preventDefault","value","onChange","target","EditProfilePopup","setName","description","setDescription","useEffect","onUpdateUser","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","defaultValue","PopupDeleteCard","onDeleteCard","onCardDeleteData","ImagePopup","InfoTooltip","api","config","authorization","this","url","headers","res","ok","json","Promise","reject","status","fetch","then","response","_getResponseData","data","method","body","JSON","stringify","App","emptyCard","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDeleteCardPopupOpen","setIsDeleteCardPopupOpen","selectedCard","setSelectedCard","setCards","setCurrentUser","closeAllPopups","getUserInfoApi","userData","catch","err","console","log","closeByEscape","key","document","addEventListener","removeEventListener","getCards","cardsData","deleteCard","setDeleteCard","setButtonText","setButtonDisable","buttonState","button","isLoading2","Provider","deleteLikedApi","newCard","state","c","likeApi","cardDeleteData","newUserData","createNewUserInfoApi","finally","newUserAvatar","createNewUserAvatarApi","createCardApi","cardDataDelete","deleteCardApi","filter","cardData","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f312e52d.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import React from 'react';\r\nimport headerLogo from '../images/logo.svg';\r\n\r\nfunction Header() {\r\n    return (\r\n        <header className=\"header\">\r\n            <img className=\"logo\" src={headerLogo} alt=\"логотип\"/>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\n\r\n\r\nfunction Card(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    const isOwn = props.card.owner._id === currentUser._id;\r\n    const cardDeleteButtonClassName = (\r\n        `card__delete page__button ${isOwn ? 'card__delete_visible' : 'card__delete_invisible'}`\r\n    );\r\n\r\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n    const cardLikeButtonClassName = (\r\n        `${isLiked ? 'card__like card__like_active' : 'card__like'}`\r\n    );\r\n\r\n    function handleClick() {\r\n        props.onCardClick(props.card);\r\n    }\r\n\r\n    function handleLikeClick() {\r\n        props.onCardLike(props.card);\r\n    }\r\n\r\n    function cardDataRead() {\r\n        props.onCardDataRead(props.card);\r\n    }\r\n\r\n    return (\r\n        <li className=\"card\">\r\n            <button className={cardDeleteButtonClassName} type=\"button\" onClick={function(){ props.onCardDelete(); cardDataRead(); props.onButtonPopupTextRead('Да')}}></button>\r\n            <img className=\"card__image\" alt={props.name} src={props.link} onClick={handleClick}/>\r\n            <div className=\"card__image-info\">\r\n                <h2 className=\"card__title\">{props.name}</h2>\r\n                <div className=\"card__like-box\">\r\n                    <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick}></button>\r\n                    <p className=\"card__like-amount\">{props.likes}</p>\r\n                </div>\r\n            </div>\r\n        </li>\r\n    );\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\nimport Card from './Card.js';\r\n\r\nfunction Main(props) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n\r\n    return (\r\n        <main className=\"content\">\r\n            <section className=\"profile\">\r\n                <div className=\"profile__info\">\r\n                    <div className=\"profile__avatar-box\" >\r\n\r\n                        <img className=\"profile__avatar\" alt=\"аватар\"  src={currentUser.avatar}/>\r\n\r\n                            <div className=\"profile__avatar-hover\">\r\n                                <button className=\"profile__edit-avatar-button\" type=\"button\" onClick={function(){props.onEditAvatar(); props.onButtonTextRead('Сохранить')}}></button>\r\n                            </div>\r\n                    </div>\r\n                    <div className=\"profile__text\">\r\n                        <div className=\"profile__name-edit\">\r\n                            <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                            <button className=\"profile__edit-button page__button\" type=\"button\" onClick={function(){props.onEditProfile(); props.onButtonTextRead('Сохранить')}}></button>\r\n                        </div>\r\n                        <p className=\"profile__about\">{currentUser.about}</p>\r\n                    </div>\r\n                </div>\r\n                <button className=\"profile__add-button page__button\" type=\"button\" onClick={function(){props.onAddPlace(); props.onButtonTextRead('Создать')}}></button>\r\n            </section>\r\n\r\n            <section className=\"gallery\">\r\n                <ul className=\"cards\">\r\n                    {props.cards.map((card) => (<Card card={card}\r\n                                                      name={card.name}\r\n                                                      link={card.link}\r\n                                                      likes={card.likes.length}\r\n                                                      key={card._id}\r\n                                                      onCardClick={props.onCardClick}\r\n                                                      onCardLike={props.onCardLike}\r\n                                                      onCardDelete={props.onCardDelete}\r\n                                                      onCardDataRead={props.onCardDataRead}\r\n                                                      onButtonPopupTextRead={props.onButtonTextRead}/>)\r\n                                               )}\r\n                </ul>\r\n            </section>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nfunction Login(props) {\r\n    return (\r\n        <section className=\"start-page\">\r\n            <h2 className=\"start-page__title\">Вход</h2>\r\n            <form className=\"form\" name=\"login\" onSubmit={props.onSubmit}>\r\n                <div className=\"form__section\">\r\n                    <label htmlFor=\"email\" className=\"form__label\"></label>\r\n                    <input type=\"email\" className=\"form__item form__item_type_start-page form__item_type_email\" id=\"email\" name=\"email\"\r\n                           placeholder=\"Email\" required minLength=\"2\" maxLength=\"40\"\r\n                    />\r\n                    <span className=\"form__input-error\" id=\"email-error\"></span>\r\n                </div>\r\n                <div className=\"form__section\">\r\n                    <label htmlFor=\"password\" className=\"form__label\"></label>\r\n                    <input type=\"text\" className=\"form__item form__item_type_start-page form__item_type_password\" id=\"password\" name=\"password\"\r\n                           placeholder=\"Пароль\" required minLength=\"2\" maxLength=\"200\"\r\n                    />\r\n                    <span className=\"form__input-error\" id=\"password-error\"></span>\r\n                </div>\r\n                <button type=\"submit\" className=\"form__save form__save_type_start-page\">Войти</button>\r\n            </form>\r\n\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Register(props) {\r\n    return (\r\n        <section className=\"start-page\">\r\n            <h2 className=\"start-page__title\">Регистрация</h2>\r\n            <form className=\"form\" name=\"register\" onSubmit={props.onSubmit}>\r\n                <div className=\"form__section\">\r\n                    <label htmlFor=\"email\" className=\"form__label\"></label>\r\n                    <input type=\"email\" className=\"form__item form__item_type_start-page form__item_type_email\" id=\"email\" name=\"email\"\r\n                           placeholder=\"Email\" required minLength=\"2\" maxLength=\"40\"\r\n                    />\r\n                    <span className=\"form__input-error\" id=\"email-error\"></span>\r\n                </div>\r\n                <div className=\"form__section\">\r\n                    <label htmlFor=\"password\" className=\"form__label\"></label>\r\n                    <input type=\"text\" className=\"form__item form__item_type_start-page form__item_type_password\" id=\"password\" name=\"password\"\r\n                           placeholder=\"Пароль\" required minLength=\"2\" maxLength=\"200\"\r\n                    />\r\n                    <span className=\"form__input-error\" id=\"password-error\"></span>\r\n                </div>\r\n                <button type=\"submit\" className=\"form__save form__save_type_start-page\">Зарегистрироваться</button>\r\n            </form>\r\n            <Link exact to=\"/login\" className=\"start-page__login-link\">Уже зарегистрированы? Войти</Link>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default Register;","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n\r\n    return (\r\n        <section className={props.isOpen ? `popup popup_type_${props.name} popup_is-opened` : `popup popup_type_${props.name}`}>\r\n            <div className=\"popup__container\">\r\n                <button className=\"popup__close page__button\" onClick={props.onClose}></button>\r\n                <div className=\"popup__content\">\r\n                    <h2 className=\"popup__title\">{props.title}</h2>\r\n                    <form className=\"form\" name={props.name} onSubmit={props.onSubmit}>\r\n                        {props.children}\r\n                        <button type=\"submit\" className=\"form__save\" disabled={props.buttonDisable}>{props.buttonText}</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n    const [nameCard, setNameCard] = React.useState('');\r\n    const [linkCardImage, setLinkCardImage] = React.useState('');\r\n\r\n    function handleChangeNameCard(e) {\r\n        setNameCard(e.target.value);\r\n    }\r\n\r\n    function handleChangeLinkCardImage(e) {\r\n        setLinkCardImage(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onAddPlace({\r\n            name: nameCard,\r\n            link: linkCardImage\r\n        });\r\n\r\n        setNameCard('');\r\n        setLinkCardImage('');\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name=\"card\" title=\"Новое место\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}\r\n                       buttonText={props.buttonText} buttonDisable={props.buttonDisable}>\r\n            <>\r\n                <div className=\"form__section\">\r\n                    <label htmlFor=\"photo-name\" className=\"form__label\"></label>\r\n                    <input type=\"text\" className=\"form__item form__item_type_photo-name\"\r\n                           id=\"photo-name\" name=\"name\" placeholder=\"Название\" required minLength=\"2\"\r\n                           maxLength=\"30\" value={nameCard || ''} onChange={handleChangeNameCard}/>\r\n                    <span className=\"form__input-error\" id=\"photo-name-error\"></span>\r\n                </div>\r\n                <div className=\"form__section\">\r\n                    <label htmlFor=\"link\" className=\"form__label\"></label>\r\n                    <input type=\"url\" className=\"form__item form__item_type_link\" id=\"link\"\r\n                           name=\"link\" placeholder=\"Ссылка на картинку\" required\r\n                           value={linkCardImage || ''} onChange={handleChangeLinkCardImage}/>\r\n                    <span className=\"form__input-error\" id=\"link-error\"></span>\r\n                </div>\r\n            </>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditProfilePopup(props) {\r\n\r\n    const [name, setName] = React.useState('');\r\n    const [description, setDescription] = React.useState('');\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser, props.isOpen]);\r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function handleChangeDescription(e) {\r\n        setDescription(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        // Запрещаем браузеру переходить по адресу формы\r\n        e.preventDefault();\r\n\r\n        // Передаём значения управляемых компонентов во внешний обработчик\r\n        props.onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name=\"profile\" title=\"Редактировать профиль\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}\r\n                       buttonText={props.buttonText} buttonDisable={props.buttonDisable}\r\n                       children={\r\n                           <>\r\n                               <div className=\"form__section\">\r\n                                   <label htmlFor=\"name\" className=\"form__label\"></label>\r\n                                   <input type=\"text\" className=\"form__item form__item_type_name\" id=\"name\"\r\n                                          name=\"name\" placeholder=\"Имя\"\r\n                                          required minLength=\"2\" maxLength=\"40\" value={name || ''} onChange={handleChangeName}/>\r\n                                   <span className=\"form__input-error\" id=\"name-error\"></span>\r\n                               </div>\r\n                               <div className=\"form__section\">\r\n                                   <label htmlFor=\"about\" className=\"form__label\"></label>\r\n                                   <input type=\"text\" className=\"form__item form__item_type_about\" id=\"about\" name=\"about\" placeholder=\"О себе\"\r\n                                          required minLength=\"2\" maxLength=\"200\" value={description || ''} onChange={handleChangeDescription}/>\r\n                                   <span className=\"form__input-error\" id=\"about-error\"></span>\r\n                               </div>\r\n                           </>\r\n                       }/>\r\n    );\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n\r\n    const avatarRef = React.useRef();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateAvatar({\r\n            avatar: avatarRef.current.value,\r\n        });\r\n\r\n        avatarRef.current.value = '';\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name=\"edit-avatar\" title=\"Обновить аватар\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}\r\n                       buttonText={props.buttonText} buttonDisable={props.buttonDisable}\r\n                       children={\r\n                           <div className=\"form__section\">\r\n                               <label htmlFor=\"avatar-link\" className=\"form__label\"></label>\r\n                               <input ref={avatarRef} type=\"url\" className=\"form__item form__item_type_avatar-link\"\r\n                                      id=\"avatar-link\" name=\"avatar\" placeholder=\"Ссылка на картинку\"\r\n                                      required defaultValue=''/>\r\n                               <span className=\"form__input-error\" id=\"avatar-link-error\"></span>\r\n                           </div>\r\n                       }/>\r\n    );\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction PopupDeleteCard(props) {\r\n\r\n    function handleSubmit(e) {\r\n        // Запрещаем браузеру переходить по адресу формы\r\n        e.preventDefault();\r\n\r\n        props.onDeleteCard(props.onCardDeleteData)\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name=\"cardDelete\" title=\"Вы уверены?\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}\r\n                       buttonText={props.buttonText} buttonDisable={props.buttonDisable}\r\n                       />\r\n    );\r\n}\r\n\r\nexport default PopupDeleteCard;","import React from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n    return (\r\n        <section className={props.card.link !== ''  ? 'popup popup_type_photo popup_is-opened' : 'popup popup_type_photo'}>\r\n\r\n            <div className=\"popup-photo\">\r\n                <button className=\"popup__close page__button\" onClick={props.onClose}></button>\r\n                <figure className=\"popup-photo__image-container\">\r\n                    <img className=\"popup-photo__image\" alt={props.card.name} src={props.card.link}/>\r\n                    <figcaption className=\"popup-photo__title\">{props.card.name}</figcaption>\r\n                </figure>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default ImagePopup;","import React from 'react';\r\nimport Tooltip from '../images/login-yes.png';\r\n\r\nfunction InfoTooltip(props) {\r\n    return (\r\n        <section className='popup popup_type_InfoTooltip'>\r\n            <button className=\"popup__close page__button\" onClick={props.onClose}></button>\r\n            <img className=\"popup-info-tooltip__image\" alt=\"\" src={Tooltip}/>\r\n            <p className=\"popup-info-tooltip__text\">Вы успешно зарегистрировались!</p>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default InfoTooltip;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAANlBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC3dmhyAAAAEXRSTlMAIN/vYBCAQL9wMJ/PkK+gUEytRtEAAAQQSURBVGje1ZvZduowDEUteZ4C/P/PXoy5VYtJ4zGLnleSbHQsy/EQ1iypRfQGkd+SMJhNWS3ZWmm74e2tcLOarZG0ht9+Fd8ELKB+PT54JTRAdhecFmqjv2SmsrV/Phj93nOduOCT7fUsrHkGYw+CAfG8MogZWHxSqxIXRMjWiCnR8tjgnrtk9IjhkLFKNt4WHy556OVaTthGtMr/eCBcLzvNehiO0BluGGgowBS0bS0YMf1hxYb08Du2/duQfHJsUICNdrt0Q5QTKm1sIl9T81o2RTY19LXuWpGuHbG5dE9UcUt3xhta9HLXk6/EnUu+HlzDiTuXzN3BFd3coecu4JKTYb8wpO7u2BK536qnnVE3mh5OdsSJqNJODrsNLNkyyfvzzd4gBmyhHJn9arRiS6Xemu3vRrPFCm/M1muNJoguM8uz5boUIQsKeKUkfw0ZKbOWSr1kkuir0eMhh3U1qwzZDKf0eMieUnq54jcWNI2G432ZS0qtwE6ToYptKl4Cpw7MhpwGdprkHSf/O23YeSKvt6lOO1XtNZ/ptOP7tZc6EX/mN07jCl4xn8dcQ+zE6iFuD6nDwdFSE8/jEnn/si0H7mYNAF+yB42Mj27Fp3NxP5RnOsuUW2Y6Fw5f+nTKre00LmWXSDeo07h0caSkPoNLae2ZSX6Pyjdxc14F6k0zuIG4B/0Jhyu1/M6VrBZ8v7rq6fu/hEZurh2VYAiignup47IErQTj3os3fOcyNhus9vIVsODOBAsq/ftcxZrAuWAX2nm8h0EugWu6kymGnTEu9eOKgIkwwqVlmEAl82Arp6hNrotLJTMNUTV7QSQUDy7v4tK7T6T7qu2O8gdXdIxlKtF95fSShHaEm4Zim/wOdf7g+/35dm7Oq/qXPTDvuK6dm2tHy7ioBrnUm7DhhZ5yrKgnHUldTGGaujRC7wuLbZ+0WT7ApUlbxzQVsJtL01SaobdIEbe3iWmG3qQrdnJprYdWQ5oEJnRxaa2HvG6U7ILSWg95fZpCdpoWNk+Sy05nXdavGpcLtrSwuViUWvpHhit2iiKNwieFTGVPfMJmyFkhQ/mmZNbvDtA+Yrn7tljwDmKW7g/QPuLnbOMyu3ovBvbmHGb9Vj1+1uGEE45jfNoBFCZDYcfEGo3yAw8ZMbfuWBV85kGyl6Nzf/rQHnGryG7enl/ifvaBUMZg7hFY13Nad/wUauMsa84x5x7jLB8MWoeOg9008/cwskNioM8q/vAbOrCKU7j9J/AjNGMp3LHvQrxruCVmrGZjEhkdBLR8JYSEHUCHyi+KIFMp2mHpyy0LvXA7UOExX8P9DCw9lz60MpsS2kG2FkAL5UNq1uIroWns7ejTsh3qX/2Yjj4ftGozAXOQiMZHodsj/QcvIWFxIhkcawAAAABJRU5ErkJggg==\"","class Api {\r\n\r\n    constructor(config, authorization) {\r\n        this.url = config.url;\r\n        this.authorization = authorization;\r\n        this.headers = {\r\n            'Content-Type': 'application/json',\r\n            'authorization': this.authorization\r\n        }\r\n    }\r\n\r\n\r\n    _getResponseData(res) {\r\n        if (!res.ok) {\r\n            return Promise.reject(`Ошибка: ${res.status}`);\r\n        }\r\n        return res.json();\r\n    }\r\n\r\n    getCards () {\r\n        return fetch(this.url + 'cards', {\r\n            headers: this.headers\r\n        }).then(response => {\r\n           return this._getResponseData(response)\r\n        })\r\n\r\n    }\r\n\r\n    createCardApi (data) {\r\n        return fetch(this.url + 'cards', {\r\n            headers: this.headers,\r\n            method: 'POST',\r\n            body: JSON.stringify(data)\r\n        }).then(response => {\r\n            return this._getResponseData(response)\r\n        })\r\n\r\n    }\r\n\r\n    deleteCardApi (_id) {\r\n        return fetch(this.url + 'cards' + '/' + _id, {\r\n            headers: this.headers,\r\n            method: 'DELETE',\r\n        }).then(response => {\r\n            return this._getResponseData(response)\r\n        })\r\n    }\r\n\r\n    getUserInfoApi () {\r\n        return fetch(this.url + 'users/me', {\r\n            headers: this.headers\r\n        }).then(response => {\r\n            return this._getResponseData(response)\r\n        })\r\n    }\r\n\r\n    createNewUserInfoApi (data) {\r\n        return fetch(this.url + 'users/me', {\r\n            headers: this.headers,\r\n            method: 'PATCH',\r\n            body: JSON.stringify(data)\r\n        }).then(response => {\r\n            return this._getResponseData(response)\r\n        })\r\n    }\r\n\r\n    createNewUserAvatarApi (data) {\r\n        return fetch(this.url + 'users/me/avatar', {\r\n            headers: this.headers,\r\n            method: 'PATCH',\r\n            body: JSON.stringify(data)\r\n        }).then(response => {\r\n            return this._getResponseData(response)\r\n        })\r\n    }\r\n\r\n    likeApi (_id) {\r\n        return fetch(this.url + 'cards/likes/' + _id, {\r\n            headers: this.headers,\r\n            method: 'PUT'\r\n        }).then(response => {\r\n            return this._getResponseData(response)\r\n        })\r\n    }\r\n\r\n    deleteLikedApi (_id) {\r\n        return fetch(this.url + 'cards/likes/' + _id, {\r\n            headers: this.headers,\r\n            method: 'DELETE',\r\n        }).then(response => {\r\n            return this._getResponseData(response)\r\n        })\r\n    }\r\n}\r\n\r\n\r\nconst url = {\r\n    url: 'https://mesto.nomoreparties.co/v1/cohort-27/'\r\n}\r\nconst authorization = '8ab69193-abde-425d-8080-68fbeb2c2f47';\r\n\r\n\r\nexport const api = new Api(url, authorization);","import React from 'react';\r\n\r\n\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\n\r\nimport Header from './Header.js';\r\nimport Main from './Main.js';\r\nimport Footer from './Footer.js';\r\nimport Login from './Login.js';\r\nimport Register from './Register.js';\r\nimport AddPlacePopup from './AddPlacePopup.js';\r\nimport EditProfilePopup from './EditProfilePopup.js';\r\nimport EditAvatarPopup from './EditAvatarPopup.js';\r\nimport PopupDeleteCard from './PopupDeleteCard.js';\r\nimport ImagePopup from './ImagePopup.js';\r\nimport InfoTooltip from './InfoTooltip.js';\r\nimport {api} from \"../utils/Api\";\r\n\r\n\r\nfunction App() {\r\n    const emptyCard = {name : '', link: ''};\r\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n    const [isDeleteCardPopupOpen, setIsDeleteCardPopupOpen] = React.useState(false);\r\n    const [selectedCard, setSelectedCard] = React.useState(emptyCard);\r\n    const [cards, setCards] = React.useState([]);\r\n    const [currentUser, setCurrentUser] = React.useState({});\r\n\r\n    const [loggedIn, setLoggedIn] =React.useState(false);\r\n\r\n    //получение данных пользователя\r\n    React.useEffect(() => {\r\n        api\r\n            .getUserInfoApi()\r\n            .then(userData => {\r\n                setCurrentUser(userData)\r\n            })\r\n            .catch(err => console.log(err))\r\n    }, []);\r\n\r\n    //открытие и закрытие попапов\r\n    function handleEditAvatarClick(buttonText) {\r\n        setIsEditAvatarPopupOpen(true);\r\n    }\r\n\r\n    function handleEditProfileClick() {\r\n        setIsEditProfilePopupOpen(true);\r\n    }\r\n\r\n    function handleAddPlaceClick() {\r\n        setIsAddPlacePopupOpen(true);\r\n    }\r\n\r\n    function handleDeleteCardClick() {\r\n        setIsDeleteCardPopupOpen(true);\r\n    }\r\n\r\n    function handleCardClick(card) {\r\n        setSelectedCard(card);\r\n    }\r\n\r\n    function closeAllPopups() {\r\n        setIsEditProfilePopupOpen(false);\r\n        setIsEditAvatarPopupOpen(false);\r\n        setIsAddPlacePopupOpen(false);\r\n        setIsDeleteCardPopupOpen(false)\r\n        setSelectedCard(emptyCard)\r\n    }\r\n\r\n    //закрытие попапа по Esc\r\n    React.useEffect(() => {\r\n        const closeByEscape = (e) => {\r\n            if (e.key === 'Escape') {\r\n                closeAllPopups();\r\n            }\r\n        }\r\n\r\n        document.addEventListener('keydown', closeByEscape)\r\n\r\n        return () => document.removeEventListener('keydown', closeByEscape)\r\n    }, [])\r\n\r\n\r\n    //обновление данных пользователя\r\n    function handleUpdateUser(newUserData) {\r\n        buttonState(buttonText, true);\r\n        api\r\n            .createNewUserInfoApi(newUserData)\r\n            .then(newUserData => {\r\n                setCurrentUser(newUserData);\r\n                closeAllPopups();\r\n            })\r\n            .catch(err => console.log(err))\r\n            .finally(() => {\r\n                buttonState(buttonText, false)\r\n            });\r\n    }\r\n\r\n    //обновление аватара пользователя\r\n    function handleUpdateAvatar(newUserAvatar) {\r\n        buttonState(buttonText, true);\r\n        api\r\n            .createNewUserAvatarApi(newUserAvatar)\r\n            .then(newUserAvatar => {\r\n                setCurrentUser(newUserAvatar);\r\n                closeAllPopups();\r\n            })\r\n            .catch(err => console.log(err))\r\n            .finally(() => {\r\n                buttonState(buttonText, false)\r\n            });\r\n    }\r\n\r\n    //добавление новой карточки\r\n    function handleAddPlaceSubmit(newCard) {\r\n        buttonState(buttonText, true);\r\n        api\r\n            .createCardApi(newCard)\r\n            .then(newCard => {\r\n                setCards([newCard, ...cards]);\r\n                closeAllPopups();\r\n            })\r\n            .catch(err => console.log(err))\r\n            .finally(() => {\r\n                buttonState(buttonText, false)\r\n            });\r\n    }\r\n\r\n    //запрос данных карточки\r\n    React.useEffect(() => {\r\n        api\r\n            .getCards()\r\n            .then(cardsData => {\r\n                setCards(cardsData)\r\n            })\r\n            .catch(err => console.log(err))\r\n\r\n    }, []);\r\n\r\n    //лайки и дизлайки\r\n    function handleCardLike(card) {\r\n        // Снова проверяем, есть ли уже лайк на этой карточке\r\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n        if (!isLiked) {\r\n            api\r\n                .likeApi(card._id,)\r\n                .then((newCard) => {\r\n                    setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n                })\r\n                .catch(err => console.log(err))\r\n        }\r\n\r\n        else {\r\n            api\r\n                .deleteLikedApi(card._id)\r\n                .then((newCard) => {\r\n                    setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n                })\r\n                .catch(err => console.log(err))\r\n        }\r\n    }\r\n\r\n    //удаление карточки через попап\r\n    const [deleteCard, setDeleteCard] = React.useState([]);\r\n\r\n    //получаем данные карточки, которую надо удалить\r\n    function cardDataRead(cardDeleteData) {\r\n        setDeleteCard(cardDeleteData)\r\n    }\r\n    //обработчик удаления карточки\r\n    function handleDeleteCardSubmit(cardDataDelete) {\r\n        api\r\n            .deleteCardApi(cardDataDelete._id)\r\n            .then(() => {\r\n                setCards((state) => state.filter(cardData => cardDataDelete._id !== cardData._id))\r\n                closeAllPopups();\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n\r\n    const [buttonText, setButtonText] = React.useState('');\r\n    const [buttonDisable, setButtonDisable] = React.useState(false);\r\n\r\n    //Получаем изначальный текст кнопки\r\n    function buttonTextRead(buttonText) {\r\n        setButtonText(buttonText)\r\n    }\r\n\r\n    //Процесс загрузки\r\n    function buttonState(button, isLoading2) {\r\n        if(isLoading2) {\r\n            setButtonText('Сохранение...');\r\n            setButtonDisable(true);\r\n        }\r\n\r\n        else{\r\n            setButtonText(button);\r\n            setButtonDisable(false);\r\n        }\r\n    }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n        <CurrentUserContext.Provider value={currentUser}>\r\n            <div className=\"page\">\r\n                <div className=\"page__content\">\r\n                    <Header/>\r\n\r\n                    <Login/>\r\n\r\n                    <Register/>\r\n\r\n                    <Main onEditProfile={handleEditProfileClick}\r\n                          onAddPlace={handleAddPlaceClick}\r\n                          onEditAvatar={handleEditAvatarClick}\r\n                          onCardClick={handleCardClick}\r\n                          cards={cards}\r\n                          onCardLike={handleCardLike}\r\n                          onCardDelete={handleDeleteCardClick}\r\n                          onCardDataRead={cardDataRead}\r\n                          onButtonTextRead={buttonTextRead}\r\n                    />\r\n\r\n                    <Footer/>\r\n\r\n                    <InfoTooltip onClose={closeAllPopups}/>\r\n\r\n                    <ImagePopup card={selectedCard} onClose={closeAllPopups}/>\r\n\r\n                    <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser}\r\n                                      buttonText={buttonText} buttonDisable={buttonDisable}/>\r\n\r\n                    <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar}\r\n                                     buttonText={buttonText} buttonDisable={buttonDisable}\r\n\r\n                    />\r\n\r\n                    <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit}\r\n                                   buttonText={buttonText} buttonDisable={buttonDisable}/>\r\n\r\n                    <PopupDeleteCard isOpen={isDeleteCardPopupOpen} onClose={closeAllPopups} onDeleteCard={handleDeleteCardSubmit}\r\n                                     onCardDeleteData={deleteCard} buttonText={buttonText}/>\r\n\r\n                </div>\r\n            </div>\r\n        </CurrentUserContext.Provider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n      <BrowserRouter>\r\n          <App />\r\n      </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}